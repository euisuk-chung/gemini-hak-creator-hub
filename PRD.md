# PRD: NVC Talk — AI 기반 커뮤니케이션 스타일 분석 플랫폼

> **Version:** 1.0
> **Last Updated:** 2026-02-28
> **Author:** NVC-chat-talk Team
> **Hackathon Theme:** K-POP × 사회적 선(善) × AI

---

## 1. Executive Summary

**NVC Talk**은 Marshall Rosenberg의 비폭력 대화(NVC, Nonviolent Communication) 이론을 기반으로, 사용자의 실제 텍스트를 AI가 분석하여 커뮤니케이션 스타일을 진단하는 플랫폼이다.

기존 MBTI식 객관식 심리 테스트와 달리, **사용자의 자유 답변(실제 말투, 단어 선택)**을 분석하여 폭력적 언어 패턴을 식별하고, NVC 원칙에 기반한 피드백을 제공한다.

### 핵심 가치 제안
- **개인 진단 모드**: 챕터별 상황 시나리오에 자유 텍스트로 답변 → AI가 말투/성향/패턴 분석 → 유형 결과 제공
- **메신저 애드온 모드**: Slack, Discord, KakaoTalk에 `/nvc` 명령어로 연동 → 실시간 대화 맥락 분석, 상호 소통 품질 평가
- **K-POP 연결**: 아이돌 악플 문화 환기 + K-POP 가사 비폭력 변환 기능

---

## 2. Problem Statement

### 2.1 해결하려는 문제

| 문제 | 설명 |
|------|------|
| **언어 폭력성 무인식** | 대부분의 사람들은 자신의 말투가 타인에게 상처를 줄 수 있다는 사실을 인식하지 못함 |
| **악플 문화** | K-POP 팬덤 내 악성 댓글이 사회적 문제로 대두. 아이돌의 정신건강에 심각한 영향 |
| **소통 단절** | 팀/조직 내 대화에서 평가·비난·비교·요구가 무의식적으로 반복되며 관계 악화 |
| **기존 도구 한계** | 객관식 심리 테스트는 "진짜 말투"를 포착하지 못함. 실제 텍스트 기반 분석이 부재 |

### 2.2 기회

- MBTI 바이럴 성공 사례: "나의 유형"을 알고 싶은 욕구는 검증된 니즈
- NVC는 학술적 기반이 탄탄한 프레임워크 (7개 욕구 범주, 40개 감정 어휘, 7개 폭력적 패턴 분류)
- LLM의 텍스트 분석 능력이 자유 텍스트 기반 진단을 기술적으로 가능하게 함

---

## 3. Target Users

### 3.1 Primary Personas

| 페르소나 | 설명 | 사용 시나리오 |
|---------|------|-------------|
| **바이럴 유저** (일반인) | 20-30대, SNS 활발, 심리 테스트에 관심 | 개인 진단 → 결과 공유 → 바이럴 |
| **K-POP 팬** | 팬덤 활동 중 댓글 문화에 노출된 팬 | 자기 댓글 말투 진단, 악플 vs 선플 인식 |
| **팀 리더 / PM** | 팀 내 소통 문제를 느끼는 관리자 | Slack/Discord 애드온으로 팀 대화 품질 모니터링 |
| **커플 / 관계 개선 희망자** | 파트너와의 소통 방식을 개선하고 싶은 사람 | 카카오톡 대화 분석, 소통 패턴 피드백 |

### 3.2 Secondary Personas

| 페르소나 | 설명 |
|---------|------|
| **상담사 / 코치** | NVC 기반 코칭 도구로 활용 |
| **교육자** | 학생들의 언어 습관 교육에 활용 |

---

## 4. Product Architecture

```
┌─────────────────────────────────────────────────────────┐
│                    NVC Talk Platform                     │
├─────────────┬─────────────────┬─────────────────────────┤
│  Mode A     │    Mode B       │      Mode C             │
│  개인 진단   │  메신저 애드온    │   K-POP 가사 변환       │
│  (바이럴)    │  (실시간 분석)   │   (엔터테인먼트)         │
├─────────────┴─────────────────┴─────────────────────────┤
│                   NVC Analysis Engine                    │
│  ┌──────────┬──────────┬──────────┬──────────────────┐  │
│  │ Pattern  │ Feeling  │  Need    │  Communication   │  │
│  │ Detector │ Analyzer │ Mapper   │  Score Engine    │  │
│  └──────────┴──────────┴──────────┴──────────────────┘  │
├─────────────────────────────────────────────────────────┤
│                    AI / LLM Layer                        │
│          (Claude API + NVC Structured Prompts)           │
├─────────────────────────────────────────────────────────┤
│                  Integration Layer                       │
│        Slack Bot │ Discord Bot │ KakaoTalk Channel       │
└─────────────────────────────────────────────────────────┘
```

---

## 5. Mode A: 개인 진단 (바이럴형 콘텐츠)

### 5.1 사용자 플로우

```
[Landing Page] → [시작하기] → [시나리오 1~5 제시] → [자유 텍스트 답변 (20자 이내)]
    → [AI 분석 진행 중...] → [결과 페이지: 유형 + 캐릭터 + 피드백]
    → [공유하기 (SNS)] → [더 알아보기 (NVC 팁)]
```

### 5.2 시나리오 설계 (NVC 13챕터 기반)

각 시나리오는 NVC 책의 핵심 챕터에서 추출한 상황을 제시하고, 사용자의 자연스러운 반응을 유도한다.

| # | 기반 챕터 | 시나리오 | 측정 대상 | 예시 상황 |
|---|----------|---------|----------|----------|
| 1 | Ch.2 (소통을 막는 대화) | **비난 상황** | 도덕적 판단, 비교, 책임 회피 패턴 | "친구가 약속 시간에 30분 늦게 왔습니다. 뭐라고 하시겠어요?" |
| 2 | Ch.3 (평가 없이 관찰하기) | **관찰 vs 평가** | 사실 묘사 vs 일반화/라벨링 능력 | "동료가 회의 중 당신의 아이디어를 무시했습니다. 이 상황을 다른 사람에게 어떻게 설명하시겠어요?" |
| 3 | Ch.4 (감정 인식) | **감정 표현** | 진짜 감정 vs 의사감정(pseudo-feeling) 구별 | "연인이 당신의 문자를 읽고도 답장하지 않았어요. 어떤 기분이 드나요?" |
| 4 | Ch.5 (감정의 책임) | **욕구 인식** | 감정의 원인을 타인 vs 자기 욕구로 귀인 | "팀장이 당신의 기획안을 회의에서 반려했습니다. 왜 그런 기분이 드나요?" |
| 5 | Ch.10 (분노 표현) | **분노 상황** | 자극 vs 원인 구별, 판단 패턴 | "SNS에서 누군가 당신의 외모를 비하하는 댓글을 달았습니다. 어떻게 반응하시겠어요?" |

### 5.3 AI 분석 엔진: 7대 폭력적 커뮤니케이션 패턴 분류기

NVC 이론에서 추출한 7개 핵심 패턴으로 사용자 텍스트를 분류한다.

#### Pattern 1: MORALISTIC_JUDGMENT (도덕적 판단)

| 항목 | 내용 |
|------|------|
| **정의** | 자신의 가치관에 맞지 않는 사람을 "잘못된/나쁜" 사람으로 라벨링 |
| **언어 지표** | `~는 X하다` (사람에 대한 형용사 라벨), `넌 항상/절대`, `~해야지`, `문제는 너야`, `너는 ~한 사람이야` |
| **예시** | "넌 왜 맨날 늦어? 진짜 개념 없다" |
| **NVC 변환** | "네가 30분 늦게 오면, 나는 답답해. 왜냐면 나한테 약속 시간이 중요하거든. 다음엔 미리 연락 줄 수 있어?" |
| **심각도** | 높음 |

#### Pattern 2: COMPARISON (비교)

| 항목 | 내용 |
|------|------|
| **정의** | 자신이나 타인을 다른 기준(사람, 이상)과 비교하여 평가 |
| **언어 지표** | `~보다 못해`, `~는 안 그러는데`, `~처럼 좀 해봐`, `차라리 ~가 낫다` |
| **예시** | "쟤는 잘하는데 넌 왜 이 모양이야?" |
| **NVC 변환** | "나는 네가 더 성장하면 좋겠어. 같이 방법을 찾아볼까?" |
| **심각도** | 중간 |

#### Pattern 3: DENIAL_OF_RESPONSIBILITY (책임 회피)

| 항목 | 내용 |
|------|------|
| **정의** | 자신의 생각·감정·행동의 원인을 외부 요인에 귀속 |
| **언어 지표** | `너 때문에`, `~가 시켜서`, `어쩔 수 없었어`, `원래 그래`, `다 그렇잖아` |
| **하위 유형** | 모호한 비인격적 힘 / 타인의 행동 / 권위 / 집단 압력 / 규칙·정책 / 성별·사회적 역할 / 충동 |
| **NVC 변환** | `~해야 해` → `나는 ~하기로 선택해, 왜냐면 ~을 중시하니까` |
| **심각도** | 높음 |

#### Pattern 4: DEMAND (요구/강요)

| 항목 | 내용 |
|------|------|
| **정의** | 불이행 시 비난·처벌이 암시된 요청 |
| **언어 지표** | `~해`, `~하라고`, `안 하면 ~할 거야`, `날 사랑하면 ~해야지`, `당연히 ~해야지` |
| **판별 기준** | 거절당했을 때 비난·죄책감 유발·침묵·보복으로 반응하면 요구 |
| **NVC 변환** | "~해줄 수 있어? 안 되면 다른 방법을 같이 찾자" |
| **심각도** | 높음 |

#### Pattern 5: PSEUDO_FEELING (의사감정)

| 항목 | 내용 |
|------|------|
| **정의** | 감정인 것처럼 보이지만 실제로는 타인의 행동에 대한 평가/해석 |
| **언어 지표** | `무시당하는 느낌`, `버림받은 것 같아`, `이용당하는 기분`, `공격받는 느낌` |
| **판별 규칙** | "나는 ~당하는 느낌이야" → "누군가가 나를 ~하고 있다"로 바꿔 말할 수 있으면 의사감정 |
| **NVC 변환** | "무시당하는 느낌이야" → "나는 외롭고 서운해, 왜냐면 인정받고 싶은 욕구가 있으니까" |
| **심각도** | 중간 |

#### Pattern 6: DESERVE_THINKING (응보적 사고)

| 항목 | 내용 |
|------|------|
| **정의** | 특정 행동에 대한 보상/처벌이 당연하다는 사고 |
| **언어 지표** | `쌤통이다`, `당해도 싸`, `벌 받을 거야`, `자업자득`, `그럴 자격 있어?` |
| **NVC 변환** | "그 행동을 보면 화가 나, 왜냐면 안전이 필요하니까. 다시 이런 일이 없도록 방법을 찾고 싶어" |
| **심각도** | 높음 |

#### Pattern 7: OBSERVATION_EVALUATION_MIX (관찰-평가 혼합)

| 항목 | 내용 |
|------|------|
| **정의** | 사실적 관찰에 일반화·판단·예측을 혼합 |
| **언어 지표** | `항상/절대/맨날/매번`, 평가적 동사(`잔소리하다`, `게으름피우다`), `~할 게 뻔해`, `자주/가끔` (근거 없이) |
| **판별 규칙** | 특정 시간·맥락 명시 없이 행동을 일반화하면 관찰-평가 혼합 |
| **NVC 변환** | "넌 맨날 늦어" → "이번 주에 세 번 약속 시간보다 늦게 왔어" |
| **심각도** | 중간 |

### 5.4 유형 분류 체계

사용자의 5개 시나리오 답변을 분석하여, 아래 축으로 유형화한다.

#### 분석 축 (2축 4유형)

| 축 | 설명 | 양극단 |
|---|------|-------|
| **X축: 표현 방향** | 감정을 자기 내면으로 향하는가 vs 타인에게 향하는가 | 내향적 표현 ↔ 외향적 표현 |
| **Y축: 표현 방식** | 관찰 기반인가 vs 판단 기반인가 | 관찰형 ↔ 판단형 |

#### 4가지 커뮤니케이션 유형

```
                    판단형 (Evaluating)
                         │
          ┌──────────────┼──────────────┐
          │              │              │
          │  🔥 불꽃심판관  │  🌪️ 감정폭풍  │
          │  (외향+판단)   │  (내향+판단)   │
          │              │              │
외향적 ────┼──────────────┼──────────────┼──── 내향적
표현       │              │              │     표현
          │  🪞 거울대화가  │  🌊 깊은호수   │
          │  (외향+관찰)   │  (내향+관찰)   │
          │              │              │
          └──────────────┼──────────────┘
                         │
                    관찰형 (Observing)
```

| 유형 | 이름 | 설명 | 주요 패턴 | NVC 점수 범위 |
|------|------|------|----------|-------------|
| 🔥 | **불꽃심판관** | 강하게 표현하되 판단·비교·라벨링이 주를 이루는 유형 | MORALISTIC_JUDGMENT, COMPARISON, DEMAND | 0-30 |
| 🌪️ | **감정폭풍** | 감정을 강하게 느끼나 의사감정·자기비난으로 표현하는 유형 | PSEUDO_FEELING, DENIAL_OF_RESPONSIBILITY, 자기판단 | 20-50 |
| 🪞 | **거울대화가** | 타인에게 잘 표현하나 가끔 관찰-평가를 혼합하는 유형 | OBSERVATION_EVALUATION_MIX, 가벼운 DEMAND | 50-80 |
| 🌊 | **깊은호수** | 관찰 기반으로 내면을 성찰하며 욕구를 인식하는 유형 | NVC 4단계에 가까운 표현 | 70-100 |

### 5.5 결과 페이지 구성

```
┌──────────────────────────────────────────┐
│           🔥 당신은 [불꽃심판관] 타입!       │
│                                          │
│    [캐릭터 일러스트 / AI 생성 몽타주]        │
│                                          │
│  NVC 점수: 35/100                         │
│  ████████░░░░░░░░░░░░ 35%                │
│                                          │
│  ─────────────────────────────────────── │
│                                          │
│  📊 당신의 커뮤니케이션 패턴 분석             │
│                                          │
│  도덕적 판단  ████████████ 높음            │
│  비교        ██████ 중간                  │
│  책임 회피    ████ 낮음                    │
│  요구/강요    ████████ 중간                │
│  의사감정     ██ 낮음                      │
│                                          │
│  ─────────────────────────────────────── │
│                                          │
│  💬 NVC가 말하는 당신의 말투                 │
│                                          │
│  "당신은 상대방의 행동에서 '잘못'을 빠르게     │
│   찾아내는 경향이 있어요. 이건 정의감이        │
│   강하다는 뜻이기도 해요! 다만, '너는 항상     │
│   ~하잖아' 같은 표현은 상대방이 방어적으로     │
│   반응하게 만들 수 있어요."                  │
│                                          │
│  ✨ 이렇게 바꿔보면 어떨까요?                │
│                                          │
│  ❌ "넌 맨날 늦잖아, 개념 없어"              │
│  ✅ "이번 주에 세 번 늦었을 때 답답했어,       │
│     약속 시간이 나한테 중요해서 그래"          │
│                                          │
│  ─────────────────────────────────────── │
│                                          │
│  [🔗 결과 공유하기]  [🔄 다시 하기]          │
│  [📖 NVC 더 알아보기]                      │
└──────────────────────────────────────────┘
```

### 5.6 톤앤매너 가이드라인 (결과 피드백용 프롬프트 조건)

NVC 4대 원칙을 피드백 자체에도 적용하여, 사용자가 기분 나빠하지 않도록 한다.

| NVC 원칙 | 피드백 적용 방식 |
|---------|----------------|
| **관찰** | "당신의 답변에서 ~라는 표현이 발견되었어요" (사실 기반) |
| **감정** | "이런 표현을 받는 상대방은 ~라고 느낄 수 있어요" (공감 유도) |
| **욕구** | "아마 당신은 ~을 중요하게 여기는 것 같아요" (긍정적 욕구 해석) |
| **요청** | "이렇게 바꿔보면 어떨까요?" (제안, 강요 아님) |

**금지 표현**: "당신의 말투는 폭력적입니다", "이건 잘못된 표현이에요", "고쳐야 해요"
**권장 표현**: "~라는 표현 속에는 ~한 마음이 담겨있는 것 같아요. ~로 바꿔보면 더 잘 전달될 수 있어요"

---

## 6. Mode B: 메신저 애드온 (실시간 대화 분석)

### 6.1 지원 플랫폼

| 플랫폼 | 연동 방식 | 명령어 형식 |
|--------|---------|-----------|
| **Slack** | Slack App (Bot + Slash Command) | `/nvc analyze`, `/nvc score`, `/nvc compact` |
| **Discord** | Discord Bot (Slash Command) | `/nvc analyze`, `/nvc score`, `/nvc compact` |
| **KakaoTalk** | 카카오톡 채널 (챗봇 API) | `#nvc분석`, `#nvc점수`, `#nvc요약` |

### 6.2 핵심 명령어

#### `/nvc analyze` — 대화 분석

특정 대화 스레드 또는 최근 N개 메시지를 분석하여 NVC 패턴 리포트를 제공한다.

```
사용자: /nvc analyze --messages 50

NVC Talk Bot:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 최근 50개 메시지 NVC 분석 결과
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

전체 NVC 점수: 62/100

참여자별 분석:
  @Alice  ████████████████ 78/100  🌊 깊은호수
  @Bob    ██████████░░░░░░ 52/100  🌪️ 감정폭풍
  @Carol  ████████████░░░░ 65/100  🪞 거울대화가

주요 발견:
  ⚠️ 도덕적 판단 표현 3건 발견
  ⚠️ 관찰-평가 혼합 5건 발견
  ✅ 공감적 경청 반응 8건 발견

소통 품질:
  상호 이해도: ████████░░ 72%
  공감적 반응 비율: ██████░░░░ 55%
  요청 vs 요구 비율: 요청 60% / 요구 40%
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### `/nvc compact` — 대화 맥락 요약 + 소통 진단

대화의 맥락 진행 상황을 요약하고, 참여자 간 소통이 잘 되고 있는지를 진단한다.

```
사용자: /nvc compact

NVC Talk Bot:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📋 대화 맥락 요약 (Compact View)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🗣️ 대화 주제: 프로젝트 마감일 연장 요청

📊 맥락 진행 상태:
  1단계 [✅] 문제 제기 — @Bob이 마감일 부담 표현
  2단계 [✅] 반응 — @Alice가 반론 제기
  3단계 [⚠️] 갈등 — 서로의 욕구가 충돌 중
  4단계 [❌] 합의 — 아직 미도달

🤝 소통 품질 진단:
  @Bob → @Alice: ⚠️ 자극과 원인 혼동
    "앨리스가 계속 압박하니까 스트레스 받아"
    💡 NVC 제안: "마감이 촉박할 때 불안해져,
       왜냐면 퀄리티 있는 결과물을 내고 싶으니까"

  @Alice → @Bob: ⚠️ 요청이 아닌 요구 패턴
    "금요일까지 무조건 끝내야 해"
    💡 NVC 제안: "금요일까지 마무리해줄 수 있을까?
       어려우면 같이 우선순위를 조정해보자"

🎯 다음 단계 제안:
  → 각자의 욕구를 명확히 표현해보세요
  → @Bob의 욕구: 퀄리티, 충분한 시간
  → @Alice의 욕구: 신뢰성, 일정 준수
  → 두 욕구를 모두 충족하는 전략을 함께 탐색해보세요
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### `/nvc score` — 개인 NVC 점수 트래킹

개인의 NVC 점수를 시간 경과에 따라 추적한다.

```
사용자: /nvc score @me

NVC Talk Bot:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📈 @Bob의 NVC 점수 추이
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

이번 주: 58/100 (▲ +5)
지난 주: 53/100
2주 전:  49/100

패턴 변화:
  도덕적 판단: 8건 → 5건 (▼ 37% 감소 👏)
  공감적 반응: 3건 → 7건 (▲ 133% 증가 🎉)
  의사감정:   4건 → 3건 (▼ 소폭 감소)

💬 "도덕적 판단 표현이 눈에 띄게 줄었어요!
    상대방의 행동을 관찰 기반으로 묘사하는 경우가
    늘어나고 있습니다."
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### `/nvc realtime` — 실시간 알림 모드 (Opt-in)

사용자가 활성화하면, 메시지를 보낼 때 폭력적 패턴이 감지되면 비공개 DM으로 피드백한다.

```
사용자가 #general에 작성:
  "이거 누가 이렇게 해놓은 거야? 도대체 생각이 있는 거야?"

NVC Talk Bot → @Bob에게 DM:
━━━━━━━━━━━━━━━━━━━━
🤫 NVC 실시간 피드백
━━━━━━━━━━━━━━━━━━━━
방금 보낸 메시지에서 도덕적 판단
패턴이 감지되었어요.

"도대체 생각이 있는 거야?"
→ 상대방을 "생각이 없는 사람"으로
   라벨링하는 표현이에요.

💡 이렇게 바꿔보면 어떨까요?
"이 부분이 예상과 다르게 되어 있어서
 혼란스러워. 어떤 의도로 이렇게
 했는지 알 수 있을까?"
━━━━━━━━━━━━━━━━━━━━
```

### 6.3 프라이버시 & 윤리 가이드라인

| 원칙 | 설명 |
|------|------|
| **Opt-in Only** | 모든 분석은 사용자가 명시적으로 요청한 경우에만 실행 |
| **개인정보 비저장** | 분석은 실시간으로 수행하고, 원문 메시지는 저장하지 않음. 점수/패턴 통계만 저장 |
| **비공개 피드백** | 개인 피드백은 항상 DM으로 전송. 채널에 개인 결과를 공개하지 않음 |
| **비판단적 톤** | 분석 결과는 NVC 원칙에 따라 관찰-감정-욕구-요청 형식으로 전달 |
| **사용자 통제** | 언제든 `/nvc off`로 비활성화 가능 |

---

## 7. Mode C: K-POP 가사 비폭력 변환

### 7.1 컨셉

K-POP 가사 중 폭력적·비폭력적 표현을 분석하고, NVC 원칙에 따라 개사해보는 엔터테인먼트 기능.

### 7.2 사용자 플로우

```
[K-POP 가사 입력 or 검색] → [AI가 가사의 NVC 점수 분석]
  → [폭력적 표현 하이라이트] → [NVC 기반 개사 버전 제시]
  → [원본 vs 개사 비교] → [공유하기]
```

### 7.3 예시

**원곡: 10cm — "봄이 좋냐"**

| 원가사 | NVC 분석 | NVC 개사 |
|--------|---------|---------|
| "봄이 그렇게도 좋냐 멍청이들아" | MORALISTIC_JUDGMENT: "멍청이들아" → 사람에 대한 라벨링 | "봄이 좋은 거 보니 부럽다, 나도 그 설렘을 느끼고 싶어" |
| "난 시러 난 시러" | 감정 표현 (authentic feeling) ✅ | (유지) "난 힘들어, 외로워" |

### 7.4 악플 → 선플 변환기

K-POP 아이돌에 대한 실제 악플 유형을 NVC 기반으로 변환하는 교육적 콘텐츠.

| 악플 유형 | 예시 | NVC 패턴 분석 | NVC 변환 |
|----------|------|-------------|---------|
| 외모 비하 | "못생겼다" | MORALISTIC_JUDGMENT | "내 취향과는 달라" (관찰로 전환) |
| 실력 비난 | "노래 못해, 립싱크나 해" | MORALISTIC_JUDGMENT + DEMAND | "오늘 무대에서 음이 흔들렸어, 라이브로 듣고 싶어" |
| 인신공격 | "연예인 하지 마" | DEMAND + DESERVE_THINKING | "이 무대를 보고 실망했어, 기대가 컸나봐" |

---

## 8. NVC Analysis Engine — 기술 상세

### 8.1 분석 파이프라인

```
[사용자 텍스트 입력]
        │
        ▼
┌─────────────────────────┐
│ Step 1: PATTERN DETECT  │  7대 폭력적 패턴 분류
│   - 언어 지표 매칭        │  (규칙 기반 + LLM 판단)
│   - 복합 패턴 감지        │
└────────┬────────────────┘
         │
         ▼
┌─────────────────────────┐
│ Step 2: NVC DECOMPOSE   │  NVC 4요소 분해
│   - 암시된 관찰 추출      │
│   - 실제 감정 식별        │
│   - 기저 욕구 매핑        │
│   - 의도된 요청 추론      │
└────────┬────────────────┘
         │
         ▼
┌─────────────────────────┐
│ Step 3: SCORE CALCULATE │  NVC 점수 산출
│   - 패턴별 가중치 적용    │
│   - 긍정 패턴 보너스      │
│   - 100점 만점 스코어링   │
└────────┬────────────────┘
         │
         ▼
┌─────────────────────────┐
│ Step 4: TYPE CLASSIFY   │  유형 분류
│   - 2축 좌표 계산        │
│   - 4유형 중 매핑        │
│   - 세부 프로필 생성      │
└────────┬────────────────┘
         │
         ▼
┌─────────────────────────┐
│ Step 5: RECONSTRUCT     │  NVC 변환 생성
│   - NVC 4단계 템플릿 적용 │
│   - 톤앤매너 가이드 적용  │
│   - 피드백 텍스트 생성    │
└─────────────────────────┘
```

### 8.2 NVC 점수 산출 로직

#### 감점 요소 (폭력적 패턴)

| 패턴 | 건당 감점 | 최대 감점 |
|------|---------|---------|
| MORALISTIC_JUDGMENT | -15 | -45 |
| DEMAND | -12 | -36 |
| DENIAL_OF_RESPONSIBILITY | -12 | -36 |
| DESERVE_THINKING | -10 | -30 |
| PSEUDO_FEELING | -8 | -24 |
| COMPARISON | -8 | -24 |
| OBSERVATION_EVALUATION_MIX | -5 | -15 |

#### 가점 요소 (NVC 정렬 패턴)

| 패턴 | 건당 가점 | 최대 가점 |
|------|---------|---------|
| 순수 관찰 표현 (시간·맥락 특정) | +10 | +30 |
| 진짜 감정 표현 (감정 어휘 사용) | +10 | +30 |
| 욕구 명시 ("~이/가 필요해서", "~을 중시해서") | +15 | +45 |
| 요청 형식 ("~해줄 수 있어?") | +10 | +30 |
| 공감적 반응 ("~한 기분이야?", "~가 필요한 거야?") | +12 | +36 |

**기본 점수**: 50점 (중립). 패턴에 따라 가감하여 0~100 범위로 클램핑.

### 8.3 NVC 어휘 사전 (AI 프롬프트 참조용)

#### 감정 어휘 — 욕구 충족 시

| 범주 | 감정 단어 |
|------|----------|
| **애정** | 따뜻한, 다정한, 사랑스러운, 자비로운, 친근한 |
| **몰입** | 흡수된, 호기심 있는, 매혹된, 관심 있는, 자극받은 |
| **희망** | 기대하는, 격려받은, 낙관적인 |
| **자신감** | 힘이 나는, 자랑스러운, 안전한, 확신하는 |
| **흥분** | 놀라운, 열정적인, 활기찬, 설레는, 신나는 |
| **감사** | 고마운, 감동받은, 감사한 |
| **기쁨** | 즐거운, 기쁜, 행복한, 유쾌한, 만족스러운 |
| **평화** | 차분한, 편안한, 충만한, 고요한, 안정된, 여유로운 |
| **상쾌** | 활력이 생기는, 새로워진, 쉬어진, 회복된 |

#### 감정 어휘 — 욕구 미충족 시

| 범주 | 감정 단어 |
|------|----------|
| **두려움** | 불안한, 걱정되는, 겁나는, 초조한, 무서운 |
| **짜증** | 답답한, 불만스러운, 짜증나는, 조급한, 성가신 |
| **분노** | 화가 나는, 격분한, 분개한, 억울한 |
| **혐오** | 역겨운, 싫은, 질린, 경멸하는 |
| **혼란** | 갈팡질팡하는, 당혹스러운, 어리둥절한, 혼란스러운 |
| **단절** | 무관심한, 지루한, 냉담한, 무감각한, 멍한 |
| **불안** | 동요하는, 불편한, 불안정한, 긴장된 |
| **당혹** | 부끄러운, 창피한, 죄책감 드는, 민망한 |
| **피로** | 지친, 녹초가 된, 기운 없는, 소진된 |
| **고통** | 괴로운, 상처받은, 외로운, 비참한, 후회되는 |
| **슬픔** | 우울한, 실망한, 낙담한, 절망적인, 서글픈 |
| **긴장** | 스트레스 받는, 안절부절못하는, 초조한, 압도당하는 |
| **취약** | 불안정한, 무력한, 연약한, 방어적인 |
| **갈망** | 부러운, 질투나는, 그리운, 갈구하는 |

#### 보편적 욕구 목록 (7대 범주)

| 범주 | 욕구 |
|------|------|
| **자율성** | 꿈·목표·가치의 선택, 이를 이루기 위한 계획의 선택 |
| **축하** | 삶의 창조와 꿈의 실현 축하, 상실의 애도 |
| **진실성** | 진정성, 창의성, 의미, 자기가치 |
| **상호의존** | 수용, 감사, 친밀함, 공동체, 배려, 기여, 정서적 안전, 공감, 정직, 사랑, 안심, 존중, 지지, 신뢰, 이해 |
| **신체적 돌봄** | 공기, 음식, 운동, 안전, 휴식, 성적 표현, 거처, 접촉, 물 |
| **놀이** | 재미, 웃음 |
| **영적 교감** | 아름다움, 조화, 영감, 질서, 평화 |

### 8.4 비공감적 반응 10가지 유형 (메신저 분석용)

대화 분석 시, 상대방의 힘든 이야기에 대한 비공감적 반응을 감지한다.

| # | 유형 | 설명 | 언어 지표 |
|---|------|------|----------|
| 1 | **조언하기** | 바로 해결책 제시 | "~하면 되지", "내 생각엔 ~해봐" |
| 2 | **한술 더 뜨기** | 자기 이야기가 더 크다며 넘김 | "그건 아무것도 아니야, 나는~" |
| 3 | **교육하기** | 교훈/교육 목적으로 전환 | "이건 ~한 기회야", "교훈은~" |
| 4 | **위로하기** | 감정 축소/최소화 | "괜찮아", "별거 아니야", "그래도~" |
| 5 | **이야기 전환** | 자기 경험담으로 화제 전환 | "나도 그런 적 있는데~" |
| 6 | **감정 차단** | 감정 표현 자체를 막음 | "울지 마", "화내지 마", "기분 나빠하지 마" |
| 7 | **동정하기** | 불쌍하다는 반응 | "불쌍해", "안됐다" |
| 8 | **심문하기** | 본인 호기심 충족용 질문 공세 | "그래서? 언제? 왜? 어떻게?" |
| 9 | **변명/해명** | 자신의 입장 방어 | "내가 그런 건~", "사실은~" |
| 10 | **교정하기** | 사실관계 정정 | "아니 그게 아니라", "실제로는~" |

---

## 9. Technical Stack

### 9.1 권장 기술 스택

| 레이어 | 기술 | 선택 이유 |
|--------|------|----------|
| **Frontend** | Next.js 15 (App Router) + TypeScript | SSR/SSG 지원, 바이럴 페이지 SEO 최적화 |
| **Styling** | Tailwind CSS + Framer Motion | 빠른 UI 구현 + 결과 페이지 애니메이션 |
| **Backend API** | Next.js API Routes (or FastAPI) | 경량 서버리스, LLM 호출 프록시 |
| **AI/LLM** | Claude API (Anthropic) | 한국어 이해력 우수, 구조화된 출력 지원, 긴 시스템 프롬프트 처리 |
| **Database** | Supabase (PostgreSQL) | 사용자 점수 이력, 메신저 연동 설정 저장 |
| **Bot Framework** | Slack Bolt / Discord.js / KakaoTalk Channel API | 각 플랫폼 공식 SDK |
| **Hosting** | Vercel (Web) + Railway/Fly.io (Bots) | 자동 배포, 스케일링 |
| **Analytics** | PostHog | 바이럴 공유 트래킹, 사용자 행동 분석 |

### 9.2 AI 프롬프트 설계 원칙

LLM 호출 시 단순 RAG(문서 참조)가 아닌, NVC 이론을 **구조화된 분석 로직**으로 프롬프트에 내장한다.

```
[System Prompt 구조]

1. NVC 이론 프레임워크 (7대 패턴, 감정/욕구 어휘 사전)
2. 분석 파이프라인 지시 (5단계 순차 처리)
3. 출력 포맷 (JSON structured output)
4. 톤앤매너 가이드라인 (NVC 원칙 기반 피드백)
5. 한국어 특화 언어 패턴 (존댓말/반말 뉘앙스, 한국 문화적 표현)
```

**핵심**: 문서를 "참조"시키는 것이 아니라, NVC 분류 체계를 프롬프트의 **분석 규칙**으로 내재화하여, AI가 규칙 기반 판단 + 맥락적 해석을 결합하도록 한다.

### 9.3 Structured Output Schema (AI 응답 포맷)

```json
{
  "analysis": {
    "input_text": "넌 맨날 늦잖아, 개념 없어",
    "detected_patterns": [
      {
        "pattern": "MORALISTIC_JUDGMENT",
        "severity": "high",
        "evidence": "개념 없어",
        "explanation": "상대방을 '개념 없는 사람'으로 라벨링"
      },
      {
        "pattern": "OBSERVATION_EVALUATION_MIX",
        "severity": "medium",
        "evidence": "맨날 늦잖아",
        "explanation": "'맨날'은 일반화 표현, 구체적 빈도/시점 불명"
      }
    ],
    "nvc_decomposition": {
      "observation": "이번 주에 세 번 약속 시간보다 늦게 왔을 때",
      "feeling": "답답한, 실망한",
      "need": "약속 준수, 신뢰, 존중",
      "request": "다음에는 늦을 것 같으면 미리 연락해줄 수 있어?"
    },
    "nvc_score": 25,
    "type": "불꽃심판관",
    "nvc_rewrite": "이번 주에 세 번 늦었을 때 답답했어, 약속 시간이 나한테 중요해서 그래. 다음엔 늦을 것 같으면 미리 연락 줄 수 있어?",
    "feedback": {
      "positive": "상황에 대해 즉각적으로 반응하는 것은 솔직함의 표현이에요.",
      "growth": "'개념 없어'라는 표현 대신, 구체적으로 어떤 행동이 불편했는지 말해보면 상대방이 더 잘 받아들일 수 있어요.",
      "tip": "'맨날'처럼 일반화하는 대신, '이번 주에 세 번'처럼 구체적으로 말해보세요."
    }
  }
}
```

---

## 10. Data Model

### 10.1 Core Entities

```
┌──────────────┐     ┌──────────────────┐     ┌─────────────────┐
│    User      │     │   DiagSession    │     │ ScenarioAnswer  │
├──────────────┤     ├──────────────────┤     ├─────────────────┤
│ id           │──┐  │ id               │──┐  │ id              │
│ platform     │  │  │ user_id (FK)     │  │  │ session_id (FK) │
│ platform_uid │  └──│ type (diag/chat) │  └──│ scenario_num    │
│ created_at   │     │ created_at       │     │ input_text      │
│ settings     │     │ result_type      │     │ analysis_json   │
└──────────────┘     │ nvc_score        │     │ nvc_score       │
                     │ share_token      │     │ patterns[]      │
                     └──────────────────┘     └─────────────────┘

┌──────────────────┐     ┌─────────────────────┐
│ MessengerConfig  │     │  NvcScoreHistory     │
├──────────────────┤     ├─────────────────────┤
│ id               │     │ id                  │
│ user_id (FK)     │     │ user_id (FK)        │
│ platform         │     │ platform            │
│ workspace_id     │     │ channel_id          │
│ channel_ids[]    │     │ score               │
│ realtime_on      │     │ patterns_summary    │
│ created_at       │     │ recorded_at         │
└──────────────────┘     └─────────────────────┘
```

### 10.2 주요 비저장 원칙

- **원문 메시지 비저장**: 메신저 대화 원문은 분석 후 즉시 폐기
- **분석 결과만 저장**: 패턴 유형, 점수, 통계만 DB에 보관
- **개인 결과 암호화**: 진단 결과는 사용자별 암호화 저장
- **공유 토큰**: 결과 공유 시 1회성 토큰 기반 URL 생성

---

## 11. MVP Scope (해커톤)

### 11.1 Phase 1: 해커톤 MVP (2-3일)

| 기능 | 우선순위 | 설명 |
|------|---------|------|
| 개인 진단 플로우 | **P0** | 5개 시나리오 → 자유 텍스트 답변 → AI 분석 → 유형 결과 |
| NVC 분석 엔진 (LLM) | **P0** | 7대 패턴 분류 + NVC 점수 + 유형 분류 + NVC 변환 |
| 결과 페이지 | **P0** | 유형 캐릭터 + 점수 + 패턴 분석 + NVC 피드백 |
| 공유 기능 | **P1** | 결과 이미지 생성 + SNS 공유 URL |
| K-POP 가사 변환 | **P1** | 1-2곡 데모 (10cm "봄이 좋냐" 등) |
| 랜딩 페이지 | **P1** | 프로젝트 소개 + 시작하기 CTA |

### 11.2 Phase 2: Post-Hackathon

| 기능 | 설명 |
|------|------|
| Slack 애드온 | `/nvc analyze`, `/nvc compact` 명령어 |
| Discord 봇 | 동일 기능의 Discord 버전 |
| 카카오톡 채널 | 챗봇 기반 진단 + 대화 분석 |
| 실시간 피드백 모드 | `/nvc realtime` DM 피드백 |
| NVC 점수 트래킹 | 시간 경과별 점수 변화 대시보드 |
| 다국어 지원 | 영어, 일본어 확장 |

---

## 12. Success Metrics

### 12.1 바이럴 지표

| 지표 | 목표 (MVP) | 측정 방법 |
|------|----------|----------|
| 완료율 (시나리오 5개 모두 답변) | > 70% | 시나리오별 이탈률 추적 |
| 결과 공유율 | > 30% | 공유 버튼 클릭 / 총 완료 |
| K-coefficient (바이럴 계수) | > 0.5 | 공유 1건당 유입 사용자 수 |
| 평균 소요 시간 | < 3분 | 시작~결과 도달 시간 |

### 12.2 소통 개선 지표 (메신저 애드온)

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| 주간 NVC 점수 변화 | 주 +3점 이상 | 점수 히스토리 추이 |
| 폭력적 패턴 감소율 | 월 -20% | 패턴별 건수 비교 |
| 공감적 반응 증가율 | 월 +15% | 공감 패턴 건수 비교 |
| 봇 활성 사용자 유지율 (MAU) | > 40% | 월간 명령어 사용 사용자 |

---

## 13. Risks & Mitigations

| 리스크 | 영향 | 완화 전략 |
|--------|------|----------|
| AI 분석 정확도 | 잘못된 패턴 분류 → 사용자 불신 | 규칙 기반 + LLM 하이브리드. Edge case 테스트셋 구축 |
| 사용자 감정적 반발 | "내 말투가 폭력적이라고?" → 이탈/악감정 | NVC 원칙 기반 피드백 톤. 긍정적 해석 선행 |
| 프라이버시 우려 | 메신저 대화 수집에 대한 반감 | Opt-in only + 원문 비저장 + 투명한 정책 |
| 한국어 특수성 | 존댓말/반말 뉘앙스, 이모티콘, 줄임말 | 한국어 특화 프롬프트 + 테스트 데이터 확보 |
| 바이럴 피로도 | MBTI 류 테스트 포화 상태 | "실제 말투 분석"이라는 차별점 강조. 짧고 가벼운 UX |
| LLM 비용 | 대규모 트래픽 시 API 비용 증가 | 캐싱, 배치 처리, 점진적 모델 최적화 |

---

## 14. 부록: NVC 이론 Quick Reference

### NVC 4단계 프로세스

| 단계 | 표현하기 (Expressing) | 경청하기 (Receiving) |
|------|---------------------|---------------------|
| 1. 관찰 | "내가 (보고/듣고)..." | "네가 (보고/듣고)..." |
| 2. 감정 | "나는 ~한 기분이야" | "너는 ~한 기분이야?" |
| 3. 욕구 | "왜냐면 나는 ~이/가 필요하니까" | "왜냐면 너는 ~이/가 필요하니까?" |
| 4. 요청 | "~해줄 수 있어?" | "~하고 싶은 거야?" |

### 요청 품질 체크리스트

| 기준 | 통과 | 실패 |
|------|------|------|
| 긍정적 (원하는 것 표현) | "~해줄 수 있어?" | "~하지 마" |
| 구체적 (관찰 가능한 행동) | "5시까지 전화해줘" | "좀 더 신경 써" |
| 실행 가능 (상대가 할 수 있는 것) | "내 말 다시 말해줄 수 있어?" | "날 좀 이해해" |
| 현재 시제 (지금 이 순간) | "오늘 저녁에~" | "앞으로 항상~" |
| 자발성 (거절 가능) | "~해주면 좋겠어" | "~해야 해" |

### 의사감정 vs 진짜 감정 판별법

```
"나는 [X]한 느낌이야"에서:
  → "누군가가 나를 [X]하고 있다"로 바꿀 수 있으면 = 의사감정 (평가)
  → 바꿀 수 없으면 = 진짜 감정

예시:
  "무시당하는 느낌" → "누군가가 나를 무시하고 있다" ✅ = 의사감정
  "슬픈 느낌" → "누군가가 나를 슬프고 있다" ❌ = 진짜 감정
```
